(()=>{var e={};e.id=702,e.ids=[702],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},14924:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>o});var t=a(67096),r=a(16132),l=a(37284),i=a.n(l),d=a(32564),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);a.d(s,n);let o=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,42918)),"C:\\Users\\markr\\Desktop\\pdf-extraction-tool\\frontend\\src\\app\\dashboard\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,68182)),"C:\\Users\\markr\\Desktop\\pdf-extraction-tool\\frontend\\src\\app\\dashboard\\layout.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,1410)),"C:\\Users\\markr\\Desktop\\pdf-extraction-tool\\frontend\\src\\app\\dashboard\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,70751)),"C:\\Users\\markr\\Desktop\\pdf-extraction-tool\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\markr\\Desktop\\pdf-extraction-tool\\frontend\\src\\app\\dashboard\\page.tsx"],m="/dashboard/page",x={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},84696:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,30614,23))},31105:(e,s,a)=>{Promise.resolve().then(a.bind(a,7822))},35303:()=>{},7822:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>Dashboard});var t=a(30784),r=a(9885),l=a(57114),i=a(21145),d=a(11440),n=a.n(d),o=a(10969),c=a(95595),m=a(85574),x=a(39546),h=a(34706),u=a(96253),p=a(15441),g=a(97040),j=a(80467);function StatCard({title:e,value:s,description:a,icon:r,trend:l,className:i}){return(0,t.jsxs)(g.Zb,{className:(0,j.cn)("overflow-hidden hover:shadow-lg transition-all duration-300 border-0 shadow-md bg-gradient-to-br from-white to-gray-50 group",i),children:[(0,t.jsxs)(g.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[t.jsx(g.ll,{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900 transition-colors",children:e}),r&&t.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-blue-50 to-purple-50 group-hover:from-blue-100 group-hover:to-purple-100 transition-colors",children:r})]}),(0,t.jsxs)(g.aY,{className:"pt-0",children:[t.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2 group-hover:scale-105 transition-transform",children:s}),a&&t.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:a}),l&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 mt-3 p-2 rounded-lg bg-gray-50 group-hover:bg-gray-100 transition-colors",children:[t.jsx("div",{className:(0,j.cn)("w-2 h-2 rounded-full",l.positive?"bg-green-500":"bg-red-500")}),(0,t.jsxs)("span",{className:(0,j.cn)("text-sm font-medium",l.positive?"text-green-700":"text-red-700"),children:[l.positive?"+":"",l.value.toFixed(1),"%"]}),t.jsx("span",{className:"text-sm text-gray-500",children:"completion rate"})]})]})]})}var b=a(2843),f=a(45304),v=a(63342);function Dashboard({}){let e=(0,l.useRouter)(),s=(0,l.useSearchParams)(),a=s.get("id"),[d,j]=(0,r.useState)([]),[N,y]=(0,r.useState)(null),[w,P]=(0,r.useState)(!1),[_,C]=(0,r.useState)(null),D="http://localhost:3001";(0,r.useEffect)(()=>{let fetchReports=async()=>{try{P(!0);let e=await i.Z.get(`${D}/api/report`);e.data.success&&e.data.reports&&j(e.data.reports),P(!1)}catch(e){C("Failed to fetch reports. Please try again later."),P(!1)}};fetchReports()},[D]),(0,r.useEffect)(()=>{let fetchReportDetails=async e=>{try{P(!0);let s=await i.Z.get(`${D}/api/report/${e}`);s.data.success&&s.data.report&&(y(s.data.report.data),C(null)),P(!1)}catch(e){C(`Failed to fetch report details: ${e.message}`),P(!1)}};a?fetchReportDetails(a):d.length>0&&e.push(`/dashboard?id=${d[0].id}`)},[a,d,D,e]);let handleExport=e=>{a&&window.open(`${D}/api/export/${a}?format=${e}`,"_blank")};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-12 animate-fade-in-up",children:[t.jsx("div",{className:"mb-6 lg:mb-0",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:t.jsx(o.Z,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-4xl font-bold tracking-tight gradient-text",children:"Dashboard"}),t.jsx("p",{className:"text-gray-600 text-lg",children:N?.metadata?.title||"Report Analysis and Visualization"})]})]})}),N&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,t.jsxs)(f.z,{variant:"outline",size:"sm",onClick:()=>handleExport("json"),className:"border-blue-200 hover:bg-blue-50 transition-colors shadow-sm",children:[t.jsx(c.Z,{className:"mr-2 h-4 w-4"}),"Export JSON"]}),(0,t.jsxs)(f.z,{variant:"outline",size:"sm",onClick:()=>handleExport("csv"),className:"border-green-200 hover:bg-green-50 transition-colors shadow-sm",children:[t.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]})]}),(0,t.jsxs)(g.Zb,{className:"mb-12 shadow-lg border-0 bg-gradient-to-br from-white to-blue-50 animate-fade-in-scale",children:[t.jsx(g.Ol,{className:"pb-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center",children:t.jsx(x.Z,{className:"h-5 w-5 text-white"})}),(0,t.jsxs)("div",{children:[t.jsx(g.ll,{className:"text-xl text-gray-900",children:"Available Reports"}),t.jsx(g.SZ,{className:"text-gray-600",children:"Choose a report to view its analysis and visualizations"})]})]})}),t.jsx(g.aY,{children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-3",children:[d.map((e,s)=>t.jsx(f.z,{variant:a===e.id?"default":"outline",size:"sm",asChild:!0,className:a===e.id?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg hover:shadow-xl transition-all duration-300":"border-blue-200 hover:bg-blue-50 hover:border-blue-300 transition-colors animate-fade-in-scale",style:{animationDelay:`${100*s}ms`},children:(0,t.jsxs)(n(),{href:`/dashboard?id=${e.id}`,children:[t.jsx(x.Z,{className:"mr-2 h-4 w-4"}),e.title||e.documentType||`Report ${e.id.slice(0,8)}`]})},e.id)),0===d.length&&!w&&(0,t.jsxs)("div",{className:"text-center w-full py-8 animate-fade-in-scale",children:[t.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:t.jsx(x.Z,{className:"h-8 w-8 text-gray-400"})}),t.jsx("p",{className:"text-gray-600 mb-3",children:"No reports available yet"}),t.jsx(f.z,{asChild:!0,variant:"outline",className:"border-blue-200 hover:bg-blue-50 transition-colors",children:(0,t.jsxs)(n(),{href:"/upload",children:[t.jsx(c.Z,{className:"mr-2 h-4 w-4"}),"Upload your first document"]})})]})]})})]}),w?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 animate-fade-in-scale",children:[(0,t.jsxs)("div",{className:"relative mb-6",children:[t.jsx("div",{className:"h-16 w-16 animate-spin rounded-full border-4 border-blue-200 border-t-blue-600"}),t.jsx("div",{className:"absolute inset-0 h-16 w-16 animate-pulse rounded-full border-4 border-blue-100"})]}),t.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading dashboard..."}),t.jsx("p",{className:"text-sm text-gray-600",children:"This may take a moment"})]}):_?t.jsx(g.Zb,{className:"border-red-200 bg-red-50 animate-fade-in-scale",children:t.jsx(g.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:t.jsx(h.Z,{className:"h-5 w-5 text-red-600"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-red-900",children:"Error Loading Dashboard"}),t.jsx("p",{className:"text-red-700",children:_})]})]})})}):N?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[t.jsx("div",{className:"animate-fade-in-scale",children:t.jsx(StatCard,{title:"Goals",value:N.summary.totalGoals,description:"Total goals identified",icon:t.jsx(x.Z,{className:"h-5 w-5 text-blue-600"})})}),t.jsx("div",{className:"animate-fade-in-scale delay-100",children:t.jsx(StatCard,{title:"BMPs",value:N.summary.totalBMPs,description:"Best Management Practices",icon:t.jsx(x.Z,{className:"h-5 w-5 text-purple-600"})})}),t.jsx("div",{className:"animate-fade-in-scale delay-200",children:t.jsx(StatCard,{title:"Completion Rate",value:`${Math.round(100*N.summary.completionRate)}%`,description:"Implementation progress",trend:N.summary.completionRate>.5?{value:100*N.summary.completionRate,positive:!0}:void 0,icon:t.jsx(u.Z,{className:"h-5 w-5 text-green-600"})})})]}),(0,t.jsxs)(v.mQ,{defaultValue:"charts",className:"mb-8",children:[(0,t.jsxs)(v.dr,{className:"grid w-full grid-cols-2 mb-4",children:[t.jsx(v.SP,{value:"charts",children:"Charts"}),t.jsx(v.SP,{value:"data",children:"Data Tables"})]}),t.jsx(v.nU,{value:"charts",className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsx(b.j,{title:"Goal Status Distribution",data:(()=>{if(!N?.goals)return[];let e={Complete:0,"In Progress":0,"Not Started":0};return N.goals.forEach(s=>{let a=s.status||"Not Specified";e[a]=(e[a]||0)+1}),Object.entries(e).map(([e,s])=>({name:e,value:s}))})(),type:"pie",dataKeys:["value"]}),t.jsx(b.j,{title:"BMP Categories",data:(()=>{if(!N?.bmps)return[];let e={};return N.bmps.forEach(s=>{let a=s.category||"Uncategorized";e[a]=(e[a]||0)+1}),Object.entries(e).map(([e,s])=>({name:e,value:s}))})(),type:"pie",dataKeys:["value"]}),t.jsx(b.j,{title:"Report Summary",data:N?.summary?[{name:"Goals",count:N.summary.totalGoals},{name:"BMPs",count:N.summary.totalBMPs},{name:"Completion",count:Math.round(100*N.summary.completionRate)}]:[],type:"bar",dataKeys:["count"],className:"md:col-span-2"})]})}),t.jsx(v.nU,{value:"data",children:(0,t.jsxs)(g.Zb,{children:[(0,t.jsxs)(g.Ol,{children:[(0,t.jsxs)(g.ll,{children:["Goals (",N.goals.length,")"]}),t.jsx(g.SZ,{children:"List of identified goals and their status"})]}),(0,t.jsxs)(g.aY,{children:[t.jsx("div",{className:"rounded-md border",children:t.jsx("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[t.jsx("thead",{children:(0,t.jsxs)("tr",{className:"bg-muted/50 border-b transition-colors",children:[t.jsx("th",{className:"h-10 px-4 text-left align-middle font-medium",children:"ID"}),t.jsx("th",{className:"h-10 px-4 text-left align-middle font-medium",children:"Description"}),t.jsx("th",{className:"h-10 px-4 text-left align-middle font-medium",children:"Status"}),t.jsx("th",{className:"h-10 px-4 text-left align-middle font-medium",children:"Target Date"})]})}),t.jsx("tbody",{children:N.goals.slice(0,5).map((e,s)=>(0,t.jsxs)("tr",{className:"border-b transition-colors hover:bg-muted/50",children:[t.jsx("td",{className:"p-4 align-middle",children:e.id}),t.jsx("td",{className:"p-4 align-middle",children:e.description}),t.jsx("td",{className:"p-4 align-middle",children:(0,t.jsxs)("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${"Complete"===e.status?"bg-green-100 text-green-800":"In Progress"===e.status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:["Complete"===e.status&&t.jsx(u.Z,{className:"mr-1 h-3 w-3"}),"In Progress"===e.status&&t.jsx(p.Z,{className:"mr-1 h-3 w-3"}),"Not Started"===e.status&&t.jsx(h.Z,{className:"mr-1 h-3 w-3"}),e.status||"Not specified"]})}),t.jsx("td",{className:"p-4 align-middle",children:e.targetDate||"Not specified"})]},e.id||s))})]})})}),N.goals.length>5&&(0,t.jsxs)("div",{className:"mt-2 text-sm text-muted-foreground text-right",children:["Showing 5 of ",N.goals.length," goals"]})]})]})})]})]}):t.jsx(g.Zb,{children:t.jsx(g.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center text-center py-10 space-y-4",children:[t.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:t.jsx(x.Z,{className:"h-6 w-6 text-primary"})}),t.jsx("h3",{className:"font-medium",children:"No report selected"}),t.jsx("p",{className:"text-muted-foreground",children:"Please select a report or upload a new document to analyze"}),t.jsx(f.z,{asChild:!0,children:(0,t.jsxs)(n(),{href:"/upload",children:[t.jsx(c.Z,{className:"mr-2 h-4 w-4"}),"Upload Document"]})})]})})})]})}},68182:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>DashboardLayout});var t=a(4656);a(3542);var r=a(24353),l=a.n(r);function DashboardLayout({children:e}){return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-10",children:[t.jsx("header",{className:"bg-white shadow-sm",children:t.jsx("div",{className:"container mx-auto px-4 py-4",children:(0,t.jsxs)("nav",{className:"flex justify-between items-center",children:[(0,t.jsxs)(l(),{href:"/",className:"text-xl font-bold text-gray-800 flex items-center",children:[t.jsx("svg",{className:"w-6 h-6 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),"PDF Analytics"]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[t.jsx(l(),{href:"/",className:"text-gray-600 hover:text-gray-800 transition-colors",children:"Home"}),t.jsx(l(),{href:"/upload",className:"text-gray-600 hover:text-gray-800 transition-colors",children:"Upload"}),t.jsx(l(),{href:"/dashboard",className:"text-blue-600 font-medium hover:text-blue-700 transition-colors",children:"Dashboard"}),t.jsx(l(),{href:"/documents",className:"text-gray-600 hover:text-gray-800 transition-colors",children:"Documents"})]})]})})}),t.jsx("main",{children:e})]})}},1410:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>LoadingDashboard});var t=a(4656);function LoadingDashboard(){return(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-6",children:[t.jsx("div",{className:"h-8 w-32 bg-gray-200 rounded animate-pulse"}),t.jsx("div",{className:"h-4 w-64 bg-gray-200 rounded mt-2 animate-pulse"})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("div",{className:"h-6 w-24 bg-gray-200 rounded animate-pulse mb-4"}),t.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded animate-pulse"}),t.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded mt-2 animate-pulse"})]},e))}),t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[1,2].map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded animate-pulse mb-4"}),t.jsx("div",{className:"h-64 bg-gray-100 rounded animate-pulse"})]},e))}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[t.jsx("div",{className:"p-6 border-b",children:t.jsx("div",{className:"h-6 w-24 bg-gray-200 rounded animate-pulse"})}),t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(e=>t.jsx("div",{className:"h-6 bg-gray-100 rounded animate-pulse"},e))})})]})]})}a(3542)},42918:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var t=a(95153);let r=(0,t.createProxy)(String.raw`C:\Users\markr\Desktop\pdf-extraction-tool\frontend\src\app\dashboard\page.tsx`),{__esModule:l,$$typeof:i}=r,d=r.default,n=d}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[972,66,693,572,155,654],()=>__webpack_exec__(14924));module.exports=a})();