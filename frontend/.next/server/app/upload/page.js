(()=>{var e={};e.id=676,e.ids=[676],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},97867:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>c});var a=t(67096),r=t(16132),l=t(37284),i=t.n(l),d=t(32564),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);t.d(s,n);let c=["",{children:["upload",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,18456)),"C:\\Users\\markr\\Desktop\\pdf-extraction-tool\\frontend\\src\\app\\upload\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,26729)),"C:\\Users\\markr\\Desktop\\pdf-extraction-tool\\frontend\\src\\app\\upload\\layout.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,24813)),"C:\\Users\\markr\\Desktop\\pdf-extraction-tool\\frontend\\src\\app\\upload\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,70751)),"C:\\Users\\markr\\Desktop\\pdf-extraction-tool\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\markr\\Desktop\\pdf-extraction-tool\\frontend\\src\\app\\upload\\page.tsx"],x="/upload/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/upload/page",pathname:"/upload",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},84696:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,30614,23))},68418:(e,s,t)=>{Promise.resolve().then(t.bind(t,83631))},35303:()=>{},83631:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>UploadPage});var a=t(30784),r=t(9885),l=t(57114),i=t(21145),d=t(20732),n=t(39546),c=t(43917),o=t(5705),x=t(1264),m=t(97849),u=t(34253),p=t(56206),h=t(10969),j=t(80072),g=t(97040),f=t(45304),N=t(92170),v=t(95595),b=t(6315),w=t(80467);function FileDropzone({onFileSelect:e,acceptedFileTypes:s=["application/pdf"],maxSize:t=104857600,label:l="Upload PDF",className:i}){let[d,n]=(0,r.useState)(null),o=(0,r.useCallback)(s=>{if(s.length>0){let t=s[0];n(t),e(t)}},[e]),x=(0,r.useCallback)(()=>{n(null)},[]),{getRootProps:m,getInputProps:u,isDragActive:h,isDragReject:j,fileRejections:g}=(0,N.uI)({onDrop:o,accept:s.reduce((e,s)=>(e[s]=[],e),{}),maxSize:t,multiple:!1}),y=g.length>0&&g[0].file.size>t,P=g.length>0&&!y;return(0,a.jsxs)("div",{className:i,children:[(0,a.jsxs)("div",{...m(),className:(0,w.cn)("border-2 border-dashed rounded-lg p-8 transition-colors","flex flex-col items-center justify-center cursor-pointer",h&&"border-primary bg-primary/5",j&&"border-destructive bg-destructive/5",d&&"border-muted bg-muted/20",i),children:[a.jsx("input",{...u()}),d?(0,a.jsxs)("div",{className:"flex items-center space-x-4 w-full",children:[a.jsx("div",{className:"bg-muted p-2 rounded-md",children:a.jsx(v.Z,{className:"h-6 w-6 text-primary"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:d.name}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(d.size/1048576).toFixed(2)," MB"]})]}),(0,a.jsxs)(f.z,{type:"button",variant:"ghost",size:"sm",onClick:e=>{e.stopPropagation(),x()},children:[a.jsx(p.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Remove file"})]})]}):(0,a.jsxs)(a.Fragment,{children:[h?a.jsx(b.Z,{className:"h-10 w-10 text-primary mb-4"}):a.jsx(b.Z,{className:"h-10 w-10 text-muted-foreground mb-4"}),a.jsx("p",{className:"mb-1 text-sm font-medium",children:h?"Drop the file here":l}),a.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Drag & drop a PDF file here, or click to select"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["Maximum file size: ",(t/1048576).toFixed(0)," MB"]})]})]}),P&&(0,a.jsxs)("div",{className:"flex items-center text-destructive text-sm mt-2",children:[a.jsx(c.Z,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:"File type not accepted. Please upload a PDF file."})]}),y&&(0,a.jsxs)("div",{className:"flex items-center text-destructive text-sm mt-2",children:[a.jsx(c.Z,{className:"h-4 w-4 mr-1"}),(0,a.jsxs)("span",{children:["File is too large. Maximum size is ",(t/1048576).toFixed(0)," MB."]})]})]})}var y=t(63342);function UploadPage(){let e=(0,l.useRouter)(),[s,t]=(0,r.useState)(null),[N,v]=(0,r.useState)(!1),[b,w]=(0,r.useState)(0),[P,U]=(0,r.useState)(null),[k,D]=(0,r.useState)(null),handleUpload=async()=>{if(!s){U("Please select a file to upload");return}v(!0),w(0),U(null);let e=new FormData;e.append("pdf",s);try{let s=await i.Z.post("http://localhost:3001/api/documents/extract",e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{if(e.total){let s=Math.round(100*e.loaded/e.total);w(s)}}});D(s.data),v(!1)}catch(e){v(!1),e.response?U(e.response.data.error||"Upload failed. Please try again."):e.request?U("No response from server. Please check your connection and try again."):U("Upload failed. Please try again.")}},resetUpload=()=>{t(null),D(null),U(null),w(0)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-12 animate-fade-in-up",children:[a.jsx("div",{className:"mb-6 lg:mb-0",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(d.Z,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight gradient-text",children:"Upload Center"}),a.jsx("p",{className:"text-gray-600 text-lg",children:"Upload PDF documents for AI-powered extraction and analysis"})]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{children:"Max 100MB"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsx("span",{children:"PDF Only"})]})]})]}),(0,a.jsxs)(g.Zb,{className:"mb-12 shadow-xl border-0 bg-gradient-to-br from-white to-blue-50 animate-fade-in-scale",children:[(0,a.jsxs)(g.Ol,{className:"text-center pb-6",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mb-4 shadow-lg",children:a.jsx(d.Z,{className:"h-8 w-8 text-white"})}),a.jsx(g.ll,{className:"text-2xl font-bold text-gray-900",children:"Upload Your Document"}),a.jsx(g.SZ,{className:"text-lg text-gray-600",children:"Select a PDF file to extract and analyze its content with AI"})]}),k?(0,a.jsxs)(g.aY,{children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center",children:a.jsx(x.Z,{className:"h-4 w-4 text-green-600"})}),a.jsx("h3",{className:"font-medium text-lg",children:"Upload Successful"})]}),a.jsx("div",{className:"bg-muted/40 p-4 rounded-md mb-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"bg-primary/10 p-2 rounded-md",children:a.jsx(n.Z,{className:"h-5 w-5 text-primary"})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:k.metadata?.filename}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-x-4 text-sm text-muted-foreground mt-1",children:[a.jsx("span",{children:k.metadata?.size}),(0,a.jsxs)("span",{children:["Extracted ",new Date(k.metadata?.extractedAt).toLocaleString()]})]})]})]})})]}),(0,a.jsxs)(y.mQ,{defaultValue:"dashboard",children:[(0,a.jsxs)(y.dr,{className:"mb-4",children:[(0,a.jsxs)(y.SP,{value:"dashboard",children:[a.jsx(m.Z,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),(0,a.jsxs)(y.SP,{value:"preview",children:[a.jsx(n.Z,{className:"h-4 w-4 mr-2"}),"Text Preview"]}),(0,a.jsxs)(y.SP,{value:"metadata",children:[a.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Metadata"]})]}),a.jsx(y.nU,{value:"dashboard",children:(0,a.jsxs)(g.Zb,{children:[a.jsx(g.Ol,{className:"p-4",children:a.jsx(g.ll,{className:"text-base",children:"Analysis Results"})}),a.jsx(g.aY,{className:"p-0",children:a.jsx(j.Z,{results:k})})]})}),a.jsx(y.nU,{value:"preview",children:(0,a.jsxs)(g.Zb,{children:[a.jsx(g.Ol,{className:"p-4",children:a.jsx(g.ll,{className:"text-base",children:"Extracted Text"})}),(0,a.jsxs)(g.aY,{className:"p-4 pt-0",children:[a.jsx("div",{className:"bg-muted/40 p-4 rounded-md max-h-80 overflow-y-auto border text-sm font-mono",children:k.text?.length>1e3?k.text.substring(0,1e3)+"...":k.text}),a.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:k.text?.length>1e3?`Showing first 1000 characters of ${k.text.length} total characters`:k.text?.length?`${k.text.length} total characters`:"No text extracted"})]})]})}),a.jsx(y.nU,{value:"metadata",children:(0,a.jsxs)(g.Zb,{children:[a.jsx(g.Ol,{className:"p-4",children:a.jsx(g.ll,{className:"text-base",children:"Document Metadata"})}),a.jsx(g.aY,{className:"p-4 pt-0",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(k.metadata||{}).map(([e,s])=>(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-1 capitalize",children:e.replace(/([A-Z])/g," $1")}),a.jsx("p",{children:String(s)})]},e))})})]})})]}),(0,a.jsxs)("div",{className:"flex justify-between gap-3 mt-6",children:[(0,a.jsxs)(f.z,{variant:"outline",onClick:resetUpload,children:[a.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Upload Another"]}),(0,a.jsxs)(f.z,{variant:"default",onClick:()=>e.push("/dashboard"),children:[a.jsx(h.Z,{className:"mr-2 h-4 w-4"}),"View Dashboard"]})]})]}):a.jsx(g.aY,{children:(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx(FileDropzone,{onFileSelect:e=>{t(e),U(null)},acceptedFileTypes:["application/pdf"],maxSize:104857600,label:"Upload PDF",className:"h-64"}),s&&!N&&a.jsx("div",{className:"bg-muted/40 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"bg-primary/10 p-2 rounded-md",children:a.jsx(n.Z,{className:"h-5 w-5 text-primary"})}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium truncate",children:s.name}),(0,a.jsxs)("div",{className:"flex flex-wrap text-xs text-muted-foreground gap-x-4",children:[a.jsx("span",{children:((e,s=2)=>{if(0===e)return"0 Bytes";let t=s<0?0:s,a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(t))+" "+["Bytes","KB","MB","GB"][a]})(s.size)}),a.jsx("span",{children:"PDF Document"}),(0,a.jsxs)("span",{children:["Selected ",new Date().toLocaleString()]})]})]})]})}),N&&(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("div",{className:"w-full bg-muted rounded-full h-2.5",children:a.jsx("div",{className:"bg-primary h-2.5 rounded-full",style:{width:`${b}%`}})}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Uploading..."}),(0,a.jsxs)("span",{className:"font-medium",children:[b,"%"]})]})]}),P&&(0,a.jsxs)("div",{className:"bg-destructive/10 p-4 rounded-md flex items-start gap-3",children:[a.jsx(c.Z,{className:"h-5 w-5 text-destructive mt-0.5"}),a.jsx("p",{className:"text-destructive text-sm",children:P})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[s&&a.jsx(f.z,{variant:"outline",onClick:resetUpload,disabled:N,children:"Clear Selection"}),a.jsx(f.z,{onClick:handleUpload,disabled:!s||N,children:N?(0,a.jsxs)(a.Fragment,{children:[a.jsx(o.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(d.Z,{className:"mr-2 h-4 w-4"}),"Upload PDF"]})})]})]})})]})]})}},26729:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>UploadLayout});var a=t(4656);t(3542);var r=t(24353),l=t.n(r);function UploadLayout({children:e}){return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-10",children:[a.jsx("header",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("nav",{className:"flex justify-between items-center",children:[(0,a.jsxs)(l(),{href:"/",className:"text-xl font-bold text-gray-800 flex items-center",children:[a.jsx("svg",{className:"w-6 h-6 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"PDF Extractor"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx(l(),{href:"/",className:"text-gray-600 hover:text-gray-800 transition-colors",children:"Home"}),a.jsx(l(),{href:"/upload",className:"text-blue-600 font-medium hover:text-blue-700 transition-colors",children:"Upload"})]})]})})}),a.jsx("main",{children:e})]})}},24813:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>LoadingUpload});var a=t(4656);function LoadingUpload(){return(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-4 w-96 bg-gray-200 rounded mt-2 animate-pulse"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("div",{className:"border-2 border-dashed rounded-lg p-10 text-center border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-200 mb-4 animate-pulse"}),a.jsx("div",{className:"h-5 w-64 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-4 w-48 bg-gray-200 rounded mt-2 animate-pulse"})]})}),(0,a.jsxs)("div",{className:"mt-6 flex gap-3",children:[a.jsx("div",{className:"h-10 w-32 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-10 w-24 bg-gray-200 rounded animate-pulse"})]})]})})]})}t(3542)},18456:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var a=t(95153);let r=(0,a.createProxy)(String.raw`C:\Users\markr\Desktop\pdf-extraction-tool\frontend\src\app\upload\page.tsx`),{__esModule:l,$$typeof:i}=r,d=r.default,n=d}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[972,66,515,693,905,155,654,72],()=>__webpack_exec__(97867));module.exports=t})();